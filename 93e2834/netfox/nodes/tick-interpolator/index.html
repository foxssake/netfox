<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://foxssake.github.io/netfox/93e2834/netfox/nodes/tick-interpolator/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>TickInterpolator - netfox</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../assets/mkdocs_puml/puml.css" rel="stylesheet" />
        <link href="../../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "TickInterpolator";
        var mkdocs_page_input_path = "netfox/nodes/tick-interpolator.md";
        var mkdocs_page_url = "/netfox/93e2834/netfox/nodes/tick-interpolator/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> netfox
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../upgrading/">Upgrading netfox</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">netfox</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Tutorials</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../tutorials/responsive-player-movement/">Responsive player movement</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../tutorials/configuring-properties-from-code/">Configuring properties from code</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../tutorials/rollback-caveats/">Rollback caveats</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../tutorials/interpolation-caveats/">Interpolation caveats</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Concepts</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../concepts/servers-clients-ownership/">Servers, clients, and ownership</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../concepts/authoritative-servers/">Authoritative servers</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Guides</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/logging/">Logging</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/network-time/">NetworkTime</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/network-time-synchronizer/">NetworkTimeSynchronizer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/network-events/">NetworkEvents</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/interpolators/">Interpolators</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/property-paths/">Property paths</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/network-rollback/">NetworkRollback</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../guides/network-performance/">NetworkPerformance</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Nodes</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">TickInterpolator</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#configuring-interpolation">Configuring interpolation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sudden-changes">Sudden changes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#changing-configuration">Changing configuration</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../rollback-synchronizer/">RollbackSynchronizer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../state-synchronizer/">StateSynchronizer</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">netfox.noray</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Guides</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../netfox.noray/guides/noray/">Noray</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../netfox.noray/guides/packet-handshake/">PacketHandshake</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">netfox.extras</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Guides</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../netfox.extras/guides/base-net-input/">BaseNetInput</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../netfox.extras/guides/network-weapon/">NetworkWeapon</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../netfox.extras/guides/rewindable-state-machine/">RewindableStateMachine</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../netfox.extras/guides/window-tiler/">WindowTiler</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">netfox</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">netfox</li>
          <li class="breadcrumb-item">Nodes</li>
      <li class="breadcrumb-item active">TickInterpolator</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="tickinterpolator">TickInterpolator</h1>
<p>Interpolates between network ticks to smooth out motion.</p>
<p>Uses <a href="../../guides/interpolators/">Interpolators</a> under the hood to support various data types. To read more
on best practices, see <a href="../../tutorials/interpolation-caveats/">Interpolation caveats</a>.</p>
<h2 id="configuring-interpolation">Configuring interpolation</h2>
<p>To use <em>TickInterpolator</em>, add it as a child to the target node, specify the
root node, and configure which properties to interpolate:</p>
<p><img alt="TickInterpolator configuration" src="../../assets/tick-interpolator-config.png" /></p>
<p><em>Root</em> specifies the root node for resolving <em>Properties</em>. Best practice
dictates to add <em>TickInterpolator</em> under its target, so <em>Root</em> will most often
be the <em>TickInterpolator</em>'s parent node.</p>
<p><em>Properties</em> specify which properties to interpolate. See <a href="../../guides/property-paths/">Property paths</a> on
how to specify these values.</p>
<p><em>Record First State</em> will make <em>TickInterpolator</em> take a snapshot when the Node
is instantiated. This snapshot will be used for interpolation, instead of
waiting for the next network tick. Useful for objects which start moving
instantly upon entering the scene tree, like projectiles.</p>
<p><em>Enable Recording</em> toggles automatic state recording. When enabled,
<em>TickInterpolator</em> will take a new snapshot after each network tick loop and
interpolate towards that. Disabling this will require you to manually call
<code>push_state()</code> whenever the <em>properties</em> are updated.</p>
<h2 id="sudden-changes">Sudden changes</h2>
<p>When a node makes a sudden change, like teleporting from one place to another,
interpolation may not be desired.</p>
<p>Call <code>teleport()</code> in these cases to avoid interpolation and just jump to the
current state. Interpolation will resume after the current state.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">_tick</span><span class="p">(</span><span class="n">tick</span><span class="p">,</span><span class="w"> </span><span class="n">delta</span><span class="p">):</span>
<span class="w">  </span><span class="c1"># Respawn after a while</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="n">_tick</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">respawn_tick</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Jump to spawn point, without interpolation</span>
<span class="w">    </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spawn_position</span>
<span class="w">    </span><span class="o">$</span><span class="n">TickInterpolator</span><span class="o">.</span><span class="n">teleport</span><span class="p">()</span>
</code></pre></div>
<h2 id="changing-configuration">Changing configuration</h2>
<p><em>TickInterpolator</em> has to do some setup work whenever the interpolated
properties change, e.g. when a new property needs to be interpolated.</p>
<p>By default, this work is done upon instantiation. If you need to change
interpolated properties during runtime, make sure to call <code>process_settings()</code>,
otherwise <em>TickInterpolator</em> won't apply the changes.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../guides/network-performance/" class="btn btn-neutral float-left" title="NetworkPerformance"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../rollback-synchronizer/" class="btn btn-neutral float-right" title="RollbackSynchronizer">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../guides/network-performance/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../rollback-synchronizer/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../assets/mkdocs_puml/puml.js"></script>
      <script src="../../../js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
